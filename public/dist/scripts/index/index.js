!function e(t,a,n){function i(r,o){if(!a[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var p=a[r]={exports:{}};t[r][0].call(p.exports,function(e){var a=t[r][1][e];return i(a?a:e)},p,p.exports,e,t,a,n)}return a[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,a){$.ns("c360.config");var n=-1!=window.location.href.indexOf("https")?"https://":"http://",i=(location.host,"pgchannel.camera360.com/");"support.camera360.com"==window.location.host&&(i="10.1.7.125:3004/"),c360.config={mainRoot:n+window.location.host+"/",jsonpRoot:n+i,httpRoot:n}},{}],2:[function(e,t,a){e("./Config.js"),$.ns("c360.server"),c360.server={getJSON:function(e,t,a,n){$.ajax({url:e,type:"GET"==n?n:"POST",dataType:"GET"==n?"JSONP":"JSON",data:t,contentType:"application/x-www-form-urlencoded",cache:!1}).done(function(e){420==e.status||a(e)}).fail(function(e){420==e.status||a(e)})},jsonpInterface:function(e,t,a,n){c360.server.getJSON(c360.config.jsonpRoot+e,t,a,n)},mainInterface:function(e,t,a,n){c360.server.getJSON(c360.config.mainRoot+e,t,a,n)},excelInterface:function(e,t){return e+"/?value="+window.base64encode(utf16to8(JSON.stringify(t)))}}},{"./Config.js":1}],3:[function(e,t,a){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var a=0,n=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var a,n=0;null!=(a=t[n]);n++)try{e(a).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,a,n){var i,s,r,o,l={},c=t.split(".")[0];t=t.split(".")[1],i=c+"-"+t,n||(n=a,a=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},s=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),o=new a,o.options=e.widget.extend({},o.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return a.prototype[t].apply(this,arguments)},i=function(e){return a.prototype[t].apply(this,e)};return function(){var t,a=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=n.apply(this,arguments),this._super=a,this._superApply=s,t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(o,{widgetEventPrefix:s?o.widgetEventPrefix:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,a){var n=a.prototype;e.widget(n.namespace+"."+n.widgetName,r,a._proto)}),delete s._childConstructors):a._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(a){for(var i,s,r=n.call(arguments,1),o=0,l=r.length;l>o;o++)for(i in r[o])s=r[o][i],r[o].hasOwnProperty(i)&&s!==t&&(e.isPlainObject(s)?a[i]=e.isPlainObject(a[i])?e.widget.extend({},a[i],s):e.widget.extend({},s):a[i]=s);return a},e.widget.bridge=function(a,i){var s=i.prototype.widgetFullName||a;e.fn[a]=function(r){var o="string"==typeof r,l=n.call(arguments,1),c=this;return r=!o&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,o?this.each(function(){var n,i=e.data(this,s);return i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,l),n!==i&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+a+" widget instance"):e.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,s);t?t.option(r||{})._init():e.data(this,s,new i(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(a,n){var i,s,r,o=a;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof a)if(o={},i=a.split("."),a=i.shift(),i.length){for(s=o[a]=e.widget.extend({},this.options[a]),r=0;r<i.length-1;r++)s[i[r]]=s[i[r]]||{},s=s[i[r]];if(a=i.pop(),n===t)return s[a]===t?null:s[a];s[a]=n}else{if(n===t)return this.options[a]===t?null:this.options[a];o[a]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,a,n){var i,s=this;"boolean"!=typeof t&&(n=a,a=t,t=!1),n?(a=i=e(a),this.bindings=this.bindings.add(a)):(n=a,a=this.element,i=this.widget()),e.each(n,function(n,r){function o(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,p=l[2];p?i.delegate(p,c,o):a.bind(c,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function a(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(a,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,n){var i,s,r=this.options[t];if(n=n||{},a=e.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],s=a.originalEvent)for(i in s)i in a||(a[i]=s[i]);return this.element.trigger(a,n),!(e.isFunction(r)&&r.apply(this.element[0],[a].concat(n))===!1||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(n,i,s){"string"==typeof i&&(i={effect:i});var r,o=i?i===!0||"number"==typeof i?a:i.effect||a:t;i=i||{},"number"==typeof i&&(i={duration:i}),r=!e.isEmptyObject(i),i.complete=s,i.delay&&n.delay(i.delay),r&&e.effects&&e.effects.effect[o]?n[t](i):o!==t&&n[o]?n[o](i.duration,i.easing,s):n.queue(function(a){e(this)[t](),s&&s.call(n[0]),a()})}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,a){return t=this.messages[t]||t.toString(),a&&e.each(a,function(e,a){t=t.replace("{"+e+"}",a)}),t},formData:function(e){return e.serializeArray()},add:function(t,a){(a.autoUpload||a.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&a.process().done(function(){a.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,a){var n=e-this.timestamp;return(!this.bitrate||!a||n>a)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var a;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(a=[],e.each(t.formData,function(e,t){a.push({name:e,value:t})}),a):[]},_getTotal:function(t){var a=0;return e.each(t,function(e,t){a+=t.size||1}),a},_initProgressObject:function(t){var a={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,a):t._progress=a},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var a,n=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,a=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=a-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=a,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,a,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var a=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,a._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var a,n=this,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,r=t.paramName[0];t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),s&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),s?e.support.xhrFormDataFileUpload&&(t.postMessage?(a=this._getFormData(t),t.blob?a.push({name:r,value:t.blob}):e.each(t.files,function(e,n){a.push({name:t.paramName[e]||r,value:n})})):(n._isInstanceOf("FormData",t.formData)?a=t.formData:(a=new FormData,e.each(this._getFormData(t),function(e,t){a.append(t.name,t.value)})),t.blob?a.append(r,t.blob,i.name):e.each(t.files,function(e,i){(n._isInstanceOf("File",i)||n._isInstanceOf("Blob",i))&&a.append(t.paramName[e]||r,i,i.name)})),t.data=a):(t.contentType=i.type,t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var a=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&a&&a!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var a=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],a.each(function(){for(var t=e(this),a=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)n.push(a),i-=1}),n.length||(n=[a.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var a=e.extend({},this.options,t);return this._initFormSettings(a),this._initDataSettings(a),a},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,a,n){var i=e.Deferred(),s=i.promise();return a=a||this.options.context||s,t===!0?i.resolveWith(a,n):t===!1&&i.rejectWith(a,n),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,a){var n=this,i=function(t){return e.Deferred().resolveWith(n,[t]).promise()};a.process=function(e,t){return(e||t)&&(a._processQueue=this._processQueue=(this._processQueue||i(this)).pipe(e,t)),this._processQueue||i(this)},a.submit=function(){return"pending"!==this.state()&&(a.jqXHR=this.jqXHR=n._trigger("submit",t,this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},a.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},a.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},a.progress=function(){return this._progress},a.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),a=t&&t.split("-"),n=a&&a.length>1&&parseInt(a[1],10);return n&&n+1},_chunkedUpload:function(t,a){t.uploadedBytes=t.uploadedBytes||0;var n,i,s=this,r=t.files[0],o=r.size,l=t.uploadedBytes,c=t.maxChunkSize||o,p=this._blobSlice,h=e.Deferred(),d=h.promise();return this._isXHRUpload(t)&&p&&(l||o>c)&&!t.data?a?!0:l>=o?(r.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",r.error])):(i=function(){var a=e.extend({},t),d=a._progress.loaded;a.blob=p.call(r,l,l+c,r.type),a.chunkSize=a.blob.size,a.contentRange="bytes "+l+"-"+(l+a.chunkSize-1)+"/"+o,s._initXHRData(a),s._initProgressListener(a),n=(s._trigger("chunksend",null,a)!==!1&&e.ajax(a)||s._getXHRPromise(!1,a.context)).done(function(n,r,c){l=s._getUploadedBytes(c)||l+a.chunkSize,d+a.chunkSize-a._progress.loaded&&s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-a.uploadedBytes,total:l-a.uploadedBytes}),a),t.uploadedBytes=a.uploadedBytes=l,a.result=n,a.textStatus=r,a.jqXHR=c,s._trigger("chunkdone",null,a),s._trigger("chunkalways",null,a),o>l?i():h.resolveWith(a.context,[n,r,c])}).fail(function(e,t,n){a.jqXHR=e,a.textStatus=t,a.errorThrown=n,s._trigger("chunkfail",null,a),s._trigger("chunkalways",null,a),h.rejectWith(a.context,[e,t,n])})},this._enhancePromise(d),d.abort=function(){return n.abort()},i(),d):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,a,n,i){var s=i._progress.total,r=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),r.result=i.result=t,r.textStatus=i.textStatus=a,r.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,a,n){var i=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),i.jqXHR=n.jqXHR=e,i.textStatus=n.textStatus=t,i.errorThrown=n.errorThrown=a,this._trigger("fail",null,n)},_onAlways:function(e,t,a,n){this._trigger("always",null,n)},_onSend:function(t,a){a.submit||this._addConvenienceMethods(t,a);var n,i,s,r,o=this,l=o._getAJAXSettings(a),c=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,n=n||((i||o._trigger("send",t,l)===!1)&&o._getXHRPromise(!1,l.context,i)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,a){o._onDone(e,t,a,l)}).fail(function(e,t,a){o._onFail(e,t,a,l)}).always(function(e,t,a){if(o._onAlways(e,t,a,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var n=o._slots.shift();n;){if("pending"===o._getDeferredState(n)){n.resolve();break}n=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=e.Deferred(),this._slots.push(s),r=s.pipe(c)):(this._sequence=this._sequence.pipe(c,c),r=this._sequence),r.abort=function(){return i=[void 0,"abort","abort"],n?n.abort():(s&&s.rejectWith(l.context,i),c())},this._enhancePromise(r)):c()},_onAdd:function(t,a){var n,i,s,r,o=this,l=!0,c=e.extend({},this.options,a),p=c.limitMultiFileUploads,h=this._getParamName(c);if((c.singleFileUploads||p)&&this._isXHRUpload(c))if(!c.singleFileUploads&&p)for(s=[],n=[],r=0;r<a.files.length;r+=p)s.push(a.files.slice(r,r+p)),i=h.slice(r,r+p),i.length||(i=h),n.push(i);else n=h;else s=[a.files],n=[h];return a.originalFiles=a.files,e.each(s||a.files,function(i,r){var c=e.extend({},a);return c.files=s?r:[r],c.paramName=n[i],o._initResponseObject(c),o._initProgressObject(c),o._addConvenienceMethods(t,c),l=o._trigger("add",t,c)}),l},_replaceFileInput:function(t){var a=t.clone(!0);e("<form></form>").append(a)[0].reset(),t.after(a).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?a[0]:n}),t[0]===this.element[0]&&(this.element=a)},_handleFileTreeEntry:function(t,a){var n,i=this,s=e.Deferred(),r=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])};return a=a||"",t.isFile?t._file?(t._file.relativePath=a,s.resolve(t._file)):t.file(function(e){e.relativePath=a,s.resolve(e)},r):t.isDirectory?(n=t.createReader(),n.readEntries(function(e){i._handleFileTreeEntries(e,a+t.name+"/").done(function(e){s.resolve(e)}).fail(r)},r)):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,a){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,a)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var a=t.items;return a&&a.length&&(a[0].webkitGetAsEntry||a[0].getAsEntry)?this._handleFileTreeEntries(e.map(a,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var a,n,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(a=e.makeArray(t.prop("files")),a.length)void 0===a[0].name&&a[0].fileName&&e.each(a,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();a=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(a).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var a=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,a.options.replaceFileInput&&a._replaceFileInput(n.fileInput),a._trigger("change",t,n)!==!1&&a._onAdd(t,n)})},_onPaste:function(t){var a=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};return a&&a.length&&(e.each(a,function(e,t){var a=t.getAsFile&&t.getAsFile();a&&n.files.push(a)}),this._trigger("paste",t,n)===!1||this._onAdd(t,n)===!1)?!1:void 0},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,a=e.dataTransfer,n={};a&&a.files&&a.files.length&&(e.preventDefault(),this._getDroppedFiles(a).always(function(a){n.files=a,t._trigger("drop",e,n)!==!1&&t._onAdd(e,n)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var a=t.dataTransfer;if(a){if(this._trigger("dragover",t)===!1)return!1;-1!==e.inArray("Files",a.types)&&(a.dropEffect="copy",t.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,a){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,a),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),a=t.pop();return t.shift(),new RegExp(t.join("/"),a)},_isRegExpOption:function(t,a){return"url"!==t&&"string"===e.type(a)&&/^\/.*\/[igm]{0,3}$/.test(a)},_initDataAttributes:function(){var t=this,a=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,n){t._isRegExpOption(e,n)&&(n=t._getRegExp(n)),a[e]=n})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var a=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,a._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var a,n,i=this,s=e.Deferred(),r=s.promise();return r.abort=function(){return n=!0,a?a.abort():(s.reject(null,"abort","abort"),r)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return void s.reject();t.files=e,a=i._onSend(null,t).then(function(e,t,a){s.resolve(e,t,a)},function(e,t,a){s.reject(e,t,a)})}}),this._enhancePromise(r)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})},{}],4:[function(e,t,a){var n=React.createClass({displayName:"AlertDialogView",getInitialState:function(){return{showAlertFlag:!1,showAlertTitle:"Error",showAlertMessage:""}},render:function(){return React.createElement("div",{id:"alertDialog",onClick:this.handleHideEvent,className:this.props.pageObject.showAlertFlag?"modal fade in":"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"close"},"×"),React.createElement("h4",{className:"modal-title"},this.props.pageObject.showAlertTitle)),React.createElement("div",{className:"modal-body"},this.props.pageObject.showAlertMessage),React.createElement("div",{className:"modal-footer"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"btn"},"关闭")))))},handleHideEvent:function(e){var t=$(e.target);"alertDialog"==t.attr("id")&&this.handleCloseEvent(e)},handleCloseEvent:function(e){e.stopPropagation(),this.props.pageObject.showAlertFlag=!1,this.props.pageObject.showAlertTitle="Error",this.props.pageObject.showAlertMessage="",this.setState({showAlertFlag:!1,showAlertTitle:"Error",showAlertMessage:""}),$.isFunction(this.props.pageObject.callback)&&this.props.pageObject.callback()}});t.exports=n},{}],5:[function(e,t,a){var n=React.createClass({displayName:"ChannelDialogView",getInitialState:function(){return{showChannelAlertFlag:!1,showChannelAlertTitle:"Error",channelName:"",channelUrl:""}},render:function(){return React.createElement("div",{id:"channelDialog",onClick:this.handleHideEvent,className:this.props.pageObject.showChannelAlertFlag?"modal fade in":"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"close"},"×"),React.createElement("h4",{className:"modal-title"},this.props.pageObject.showChannelAlertTitle)),React.createElement("div",{className:"modal-body"},React.createElement("div",{style:{display:"block"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"60px",textAlign:"right"}},React.createElement("div",{className:"red"},"*"),"渠道名称"),React.createElement("input",{className:"form-control",onChange:this.handleChannelNameEvent,value:this.props.pageObject.channelName,type:"text",style:{display:"inline-block",marginLeft:"10px"},placeholder:""})),React.createElement("div",{style:{display:"block",marginTop:"20px"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"60px",textAlign:"right"}},React.createElement("div",{className:"red"},"*"),"渠道url"),React.createElement("input",{className:"form-control",onChange:this.handleChannelUrlEvent,value:this.props.pageObject.channelUrl,type:"text",style:{display:"inline-block",marginLeft:"10px"},placeholder:""}))),React.createElement("div",{className:"modal-footer"},React.createElement("button",{onClick:this.handleConfirmEvent,type:"button",className:"btn"},"确认"),React.createElement("button",{style:{marginLeft:"20px"},onClick:this.handleCloseEvent,type:"button",className:"btn"},"关闭")))))},handleHideEvent:function(e){var t=$(e.target);"channelDialog"==t.attr("id")&&this.handleCloseEvent(e)},handleConfirmEvent:function(e){$.isFunction(this.props.pageObject.comfirmCallback)&&this.props.pageObject.comfirmCallback()},handleCloseEvent:function(e){this.handleStateEvent(e),$.isFunction(this.props.pageObject.cancelCallback)&&this.props.pageObject.cancelCallback()},handleChannelUrlEvent:function(e){var t=$(e.target),a=t.val().trim();this.props.pageObject.channelUrl=a,this.setState({channelUrl:a})},handleChannelNameEvent:function(e){var t=$(e.target),a=t.val().trim();this.props.pageObject.channelName=a,this.setState({channelName:a})},handleStateEvent:function(e){e.stopPropagation(),this.props.pageObject.showChannelAlertFlag=!1,this.props.pageObject.showChannelAlertTitle="Error",this.setState({showChannelAlertFlag:!1,showChannelAlertTitle:"Error"})}});t.exports=n},{}],6:[function(e,t,a){var n=React.createClass({displayName:"ConfirmDialogView",getInitialState:function(){return{showComfirmFlag:!1,showComfirmTitle:"Error",showComfirmMessage:""}},render:function(){return React.createElement("div",{id:"confirmDialog",onClick:this.handleHideEvent,className:this.props.pageObject.showComfirmFlag?"modal fade in":"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"close"},"×"),React.createElement("h4",{className:"modal-title"},this.props.pageObject.showComfirmTitle)),React.createElement("div",{className:"modal-body"},this.props.pageObject.showComfirmMessage),React.createElement("div",{className:"modal-footer"},React.createElement("button",{onClick:this.handleConfirmEvent,type:"button",className:"btn"},"确认"),React.createElement("button",{style:{marginLeft:"20px"},onClick:this.handleCloseEvent,type:"button",className:"btn"},"关闭")))))},handleHideEvent:function(e){var t=$(e.target);"confirmDialog"==t.attr("id")&&this.handleCloseEvent(e)},handleConfirmEvent:function(e){this.handleStateEvent(e),$.isFunction(this.props.pageObject.comfirmCallback)&&this.props.pageObject.comfirmCallback()},handleCloseEvent:function(e){this.handleStateEvent(e),$.isFunction(this.props.pageObject.cancelCallback)&&this.props.pageObject.cancelCallback()},handleStateEvent:function(e){e.stopPropagation(),this.props.pageObject.showComfirmFlag=!1,this.props.pageObject.showComfirmTitle="Error",this.props.pageObject.showComfirmMessage="",this.setState({showComfirmFlag:!1,showComfirmTitle:"Error",showComfirmMessage:""})}});t.exports=n},{}],7:[function(e,t,a){var n=React.createClass({displayName:"EditAlertDialogView",getInitialState:function(){return{showEditAlertFlag:!1,showEditAlertModel:[],showEditAlertTitle:"Error"}},render:function(){var e=function(){var e=[];return this.props.pageObject.showEditAlertModel.map(function(t,a){var n="glyphicon glyphicon-info-sign red";1==t.flag?n="glyphicon glyphicon-info-sign green":2==t.flag&&(n="glyphicon glyphicon-info-sign orange"),e.push(React.createElement("div",{style:{marginTop:"20px"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"30px","float":"left"}},React.createElement("span",{className:n}),React.createElement("span",{style:{marginLeft:"10px"}},t.value)),React.createElement("a",{className:"bottun4 relative",onClick:this.handleChannelEvent,style:{margin:"0px 0px 0px 22px"}},React.createElement("div",null,React.createElement("span",null,"警告忽略"))),React.createElement("div",{style:{clear:"both"}})))}),e}.bind(this)();return React.createElement("div",{id:"editAlertDialog",onClick:this.handleHideEvent,className:this.props.pageObject.showEditAlertFlag?"modal fade in":"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"close"},"×"),React.createElement("h4",{style:{textAlign:"center"},className:"modal-title"},"编辑警告状态："+this.props.pageObject.showEditAlertTitle)),React.createElement("div",{className:"modal-body"},e),React.createElement("div",{className:"modal-footer"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"btn"},"关闭")))))},handleChannelEvent:function(){},handleHideEvent:function(e){var t=$(e.target);"editAlertDialog"==t.attr("id")&&this.handleCloseEvent(e)},handleCloseEvent:function(e){e.stopPropagation(),
this.props.pageObject.showEditAlertFlag=!1,this.props.pageObject.showEditAlertModel=[],this.props.pageObject.showEditAlertTitle="Error",this.setState({showEditAlertFlag:!1,showEditAlertModel:[],showEditAlertTitle:"Error"}),$.isFunction(this.props.pageObject.callback)&&this.props.pageObject.callback()}});t.exports=n},{}],8:[function(e,t,a){e("../../common/fileupload.js");var n=e("../../views/MainAction.js"),i=n.MainAction,s=React.createClass({displayName:"UpdateChannelDialogView",getInitialState:function(){return{showUpdateChannelAlertFlag:!1,showUpdateChannelAlertTitle:"Error",version:"",desc:""}},componentDidMount:function(){this.url="uploadFiles";var e=$(ReactDOM.findDOMNode(this.refs.uploadIcon));e.fileupload({url:c360.config.jsonpRoot+this.url,type:"post",dataType:"json",add:function(e,t){t.submit()}.bind(this),done:function(e,t){var t=t.result;return 200!=t.status?void i.showAlert("Error","图片上传错误，请重试！",!0):void i.setIcon(t.data)}});var t=$(ReactDOM.findDOMNode(this.refs.uploadImage));t.fileupload({url:c360.config.jsonpRoot+this.url,type:"post",dataType:"json",add:function(e,t){return 6==this.props.pageObject.imageList.length?void i.showAlert("Error","最多上传6张截图！",!0):void t.submit()}.bind(this),done:function(e,t){var t=t.result;return 200!=t.status?void i.showAlert("Error","图片上传错误，请重试！",!0):void i.setImageList(t.data)}})},render:function(){var e=function(){var e=[];return""==this.props.pageObject.icon?e.push(React.createElement("div",{key:"icon0"})):e.push(React.createElement("img",{key:"icon0",className:"standard",style:{marginLeft:"20px",marginTop:"20px"},src:this.props.pageObject.icon,alt:"上传图片"})),e}.bind(this)(),t=function(){var e=[];return 0==this.props.pageObject.imageList.length?e.push(React.createElement("div",{key:"file0"})):this.props.pageObject.imageList.map(function(t,a){e.push(React.createElement("div",{key:"file"+a,className:"general-panel"},React.createElement("div",{className:"delete-panel hide",onClick:this.handleDeleteEvent.bind(this,t)},React.createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})),React.createElement("img",{className:"standard",src:t,alt:"上传图片"})))}.bind(this)),e}.bind(this)(),a=function(){var e=[];return this.props.pageObject.updateChannelFlag?e.push(React.createElement("button",{onClick:this.handleConfirmEvent,type:"button",className:"btn"},"保存")):e.push(React.createElement("button",{onClick:this.handleConfirmEvent,type:"button",className:"btn"},"编辑")),e}.bind(this)();return React.createElement("div",{id:"updateChannelDialog",onClick:this.handleHideEvent,className:this.props.pageObject.showUpdateChannelAlertFlag?"modal fade in":"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{onClick:this.handleCloseEvent,type:"button",className:"close"},"×"),React.createElement("h4",{className:"modal-title"},this.props.pageObject.showUpdateChannelAlertTitle)),React.createElement("div",{className:"modal-body"},React.createElement("div",{style:{display:"block"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"50px",textAlign:"right"}},React.createElement("div",{className:"red"},"*"),"版本号"),React.createElement("input",{className:"form-control",onChange:this.handleVersionEvent,value:this.props.pageObject.version,type:"text",style:{display:"inline-block",marginLeft:"10px"},placeholder:""})),React.createElement("div",{style:{display:"block",marginTop:"20px"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"50px",textAlign:"right"}},React.createElement("div",{className:"red"},"*"),"描述"),React.createElement("input",{className:"form-control",onChange:this.handleDescEvent,value:this.props.pageObject.desc,type:"text",style:{display:"inline-block",marginLeft:"10px"},placeholder:""})),React.createElement("div",{style:{display:"block"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"50px",textAlign:"right",marginTop:"20px"}},React.createElement("div",{className:"red"},"*"),"图标"),React.createElement("button",{type:"button",className:"btn btn-primary",style:{marginTop:"20px",marginLeft:"10px"}},"上传图片"),React.createElement("input",{className:"cover-upload",ref:"uploadIcon",name:"files",type:"file"}),e),React.createElement("div",{style:{display:"block"}},React.createElement("span",{style:{display:"inline-block",lineHeight:"24px",width:"50px",textAlign:"right",marginTop:"20px"}},React.createElement("div",{className:"red"},"*"),"截图"),React.createElement("button",{type:"button",className:"btn btn-primary",style:{marginTop:"20px",marginLeft:"10px"}},"上传图片"),React.createElement("input",{className:"cover-upload",ref:"uploadImage",name:"files",type:"file"}),t)),React.createElement("div",{className:"modal-footer"},a,React.createElement("button",{style:{marginLeft:"20px"},onClick:this.handleCloseEvent,type:"button",className:"btn"},"关闭")))))},handleDeleteEvent:function(e,t){i.delImageList(e)},handleHideEvent:function(e){var t=$(e.target);"updateChannelDialog"==t.attr("id")&&this.handleCloseEvent(e)},handleConfirmEvent:function(e){$.isFunction(this.props.pageObject.comfirmCallback)&&this.props.pageObject.comfirmCallback()},handleCloseEvent:function(e){this.handleStateEvent(e),$.isFunction(this.props.pageObject.cancelCallback)&&this.props.pageObject.cancelCallback()},handleDescEvent:function(e){var t=$(e.target),a=t.val().trim();this.props.pageObject.desc=a,this.setState({desc:a})},handleVersionEvent:function(e){var t=$(e.target),a=t.val().trim();this.props.pageObject.version=a,this.setState({version:a})},handleStateEvent:function(e){e.stopPropagation(),this.props.pageObject.showUpdateChannelAlertFlag=!1,this.props.pageObject.showUpdateChannelAlertTitle="Error",this.setState({showUpdateChannelAlertFlag:!1,showUpdateChannelAlertTitle:"Error"})}});t.exports=s},{"../../common/fileupload.js":3,"../../views/MainAction.js":14}],9:[function(e,t,a){var n=e("./spin.js"),i=React.createClass({displayName:"LoadingView",componentDidMount:function(){$.ajaxSetup({global:!0});var e={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},t=document.getElementById("loading");new n(e).spin(t);$(document).ajaxStop(function(){$(t).removeClass("active")}),$(document).ajaxStart(function(){$(t).addClass("active")})},render:function(){return React.createElement("div",{id:"loading"})}});t.exports=i},{"./spin.js":10}],10:[function(e,t,a){!function(e,n){"object"==typeof a?t.exports=n():"function"==typeof define&&define.amd?define(n):e.Spinner=n()}(this,function(){"use strict";function e(e,t){var a,n=document.createElement(e||"div");for(a in t)n[a]=t[a];return n}function t(e){for(var t=1,a=arguments.length;a>t;t++)e.appendChild(arguments[t]);return e}function a(e,t,a,n){var i=["opacity",t,~~(100*e),a,n].join("-"),s=.01+a/n*100,r=Math.max(1-(1-e)/t*(100-s),e),o=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=o&&"-"+o+"-"||"";return h[i]||(d.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+r+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",d.cssRules.length),h[i]=1),i}function n(e,t){var a,n,i=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<p.length;n++)if(a=p[n]+t,void 0!==i[a])return a;return void 0!==i[t]?t:void 0}function i(e,t){for(var a in t)e.style[n(e,a)||a]=t[a];return e}function s(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)void 0===e[n]&&(e[n]=a[n])}return e}function r(e,t){return"string"==typeof e?e:e[t%e.length]}function o(e){this.opts=s(e||{},o.defaults,u)}function l(){function a(t,a){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',a)}d.addRule(".spin-vml","behavior:url(#default#VML)"),o.prototype.lines=function(e,n){function s(){return i(a("group",{coordsize:p+" "+p,coordorigin:-c+" "+-c}),{width:p,height:p})}function o(e,o,l){t(d,t(i(s(),{rotation:360/n.lines*e+"deg",left:~~o}),t(i(a("roundrect",{arcsize:n.corners}),{width:c,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),a("fill",{color:r(n.color,e),opacity:n.opacity}),a("stroke",{opacity:0}))))}var l,c=n.length+n.width,p=2*c,h=2*-(n.width+n.length)+"px",d=i(s(),{position:"absolute",top:h,left:h});if(n.shadow)for(l=1;l<=n.lines;l++)o(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)o(l);return t(e,d)},o.prototype.opacity=function(e,t,a,n){var i=e.firstChild;n=n.shadow&&n.lines||0,i&&t+n<i.childNodes.length&&(i=i.childNodes[t+n],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=a))}}var c,p=["webkit","Moz","ms","O"],h={},d=function(){var a=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),u={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};o.defaults={},s(o.prototype,{spin:function(t){this.stop();var a=this,n=a.opts,s=a.el=i(e(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex});if(i(s,{left:n.left,top:n.top}),t&&t.insertBefore(s,t.firstChild||null),s.setAttribute("role","progressbar"),a.lines(s,a.opts),!c){var r,o=0,l=(n.lines-1)*(1-n.direction)/2,p=n.fps,h=p/n.speed,d=(1-n.opacity)/(h*n.trail/100),u=h/n.lines;!function g(){o++;for(var e=0;e<n.lines;e++)r=Math.max(1-(o+(n.lines-e)*u)%h*d,n.opacity),a.opacity(s,e*n.direction+l,r,n);a.timeout=a.el&&setTimeout(g,~~(1e3/p))}()}return a},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,s){function o(t,a){return i(e(),{position:"absolute",width:s.length+s.width+"px",height:s.width+"px",background:t,boxShadow:a,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*p+s.rotate)+"deg) translate("+s.radius+"px,0)",borderRadius:(s.corners*s.width>>1)+"px"})}for(var l,p=0,h=(s.lines-1)*(1-s.direction)/2;p<s.lines;p++)l=i(e(),{position:"absolute",top:1+~(s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:c&&a(s.opacity,s.trail,h+p*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&t(l,i(o("#000","0 0 4px #000"),{top:"2px"})),t(n,t(l,o(r(s.color,p),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,a){t<e.childNodes.length&&(e.childNodes[t].style.opacity=a)}});var g=i(e("group"),{behavior:"url(#default#VML)"});return!n(g,"transform")&&g.adj?l():c=n(g,"animation"),o})},{}],11:[function(e,t,a){var n=Reflux.createActions(["setReset","setPageTotal","setCurrentPageIndex"]),i=Reflux.createStore({listenables:[n],getInitialState:function(){return this.onSetReset()},onSetReset:function(){return this.pageObject={pageTotal:0,callback:null,currentPageIndex:0},this.pageObject},onSetPageTotal:function(e,t){this.pageObject.pageTotal=e,this.pageObject.callback=t,this.trigger(this.pageObject)},onSetCurrentPageIndex:function(e){this.pageObject.currentPageIndex=e,this.trigger(this.pageObject)}});t.exports={PageAction:n,PageStore:i}},{}],12:[function(e,t,a){var n=e("./PageAction.js"),i=n.PageAction,s=n.PageStore,r=React.createClass({displayName:"PageView",mixins:[Reflux.connect(s,"pageObject")],handlerPageItemEvent:function(e){var t=e.currentTarget.getAttribute("data-num"),a=0,n=this.state.pageObject.currentPageIndex;"pre"==t?this.state.pageObject.currentPageIndex>0&&(a=this.state.pageObject.currentPageIndex-1,i.setCurrentPageIndex(this.state.pageObject.currentPageIndex-1)):"next"==t?this.state.pageObject.currentPageIndex<this.totalPage-1&&(a=this.state.pageObject.currentPageIndex+1,i.setCurrentPageIndex(this.state.pageObject.currentPageIndex+1)):"first"==t?(a=0,i.setCurrentPageIndex(0)):"last"==t?(a=this.totalPage-1,i.setCurrentPageIndex(this.totalPage-1)):(a=parseInt(t),i.setCurrentPageIndex(parseInt(t))),$.isFunction(this.state.pageObject.callback)&&this.state.pageObject.callback(a),n==this.state.pageObject.currentPageIndex},updatePageItems:function(){if(this.totalPage=Math.ceil(this.state.pageObject.pageTotal/this.MAX_PAGE_NUM),this.totalArray=[],this.createPreAndNextBtn(!0),this.totalPage<=this.MAX_PAGE_SIZE)for(var e=0;e<this.totalPage;e++)this.createPageItem(e);else{var t=0;if(this.state.pageObject.currentPageIndex<=this.MAX_PAGE_FLAG)for(;t<this.MAX_PAGE_SIZE;t++)this.createPageItem(t);else if(this.state.pageObject.currentPageIndex>this.totalPage-this.MAX_PAGE_FLAG)for(t=this.totalPage-this.MAX_PAGE_SIZE;t<this.totalPage;t++)this.createPageItem(t);else{t=this.state.pageObject.currentPageIndex-this.MAX_PAGE_FLAG;var a=Math.min(this.state.pageObject.currentPageIndex+this.MAX_PAGE_FLAG,this.totalPage-1);for(a==this.totalPage-1&&(t=this.totalPage-this.MAX_PAGE_SIZE);a>=t;t++)this.createPageItem(t)}}this.createPreAndNextBtn(!1)},createPreAndNextBtn:function(e){1==e?(this.totalArray.push(React.createElement("a",{key:"firstItem",className:"pageItem",onClick:this.handlerPageItemEvent,"data-num":"first",href:"javascript:void(0)"},"第一页")),this.totalArray.push(React.createElement("a",{key:"preItem",className:"pageItem",onClick:this.handlerPageItemEvent,"data-num":"pre",href:"javascript:void(0)"},"上一页"))):(this.totalArray.push(React.createElement("a",{key:"nextItem",className:"pageItem",onClick:this.handlerPageItemEvent,"data-num":"next",href:"javascript:void(0)"},"下一页")),this.totalArray.push(React.createElement("a",{key:"lastItem",className:"pageItem",onClick:this.handlerPageItemEvent,"data-num":"last",href:"javascript:void(0)"},"最后一页")))},createPageItem:function(e){var t="";this.state.pageObject.currentPageIndex==e&&(t="page_active"),this.totalArray.push(React.createElement("a",{key:"item"+e,onClick:this.handlerPageItemEvent,className:"pageItem "+t,"data-num":e,href:"javascript:void(0)"},e+1))},render:function(){return this.MAX_PAGE_SIZE=5,this.MAX_PAGE_FLAG=2,this.MAX_PAGE_NUM=5,0==this.state.pageObject.pageTotal?React.createElement("div",null):(this.updatePageItems(),React.createElement("div",{className:"page"},React.createElement("div",{className:"r"},this.totalArray)))}});t.exports=r},{"./PageAction.js":11}],13:[function(e,t,a){var n=e("./MainAction.js"),i=e("../components/page/PageAction.js"),s=i.PageStore,i=i.PageAction,n=n.MainAction,r=React.createClass({displayName:"ListView",getInitialState:function(){return{}},componentDidMount:function(){i.setCurrentPageIndex(0),n.getTemplateList(0,this.initTemplateList)},initTemplateList:function(e){i.setPageTotal(e,function(e){n.getTemplateList(e)}.bind(this))},render:function(){var e=["信息","截图","状态"],t=function(){var t=[];for(var a in e){var n="auto";"截图"==e[a]?n=350:"状态"==e[a]&&(n=500),t.push(React.createElement("th",{key:"stickerTableHead"+a,style:{width:n}},React.createElement("div",null,e[a])))}return t}.bind(this)(),a=this.props.pageObject.list;0==a.length&&i.setPageTotal(0);for(var n=[],s=0,r=a.length;r>s;s++){var o=[];o.push(React.createElement("div",{style:{textAlign:"left"}},React.createElement("a",{style:{cursor:"pointer"},href:a[s].channelUrl,target:"_blank"},a[s].title),React.createElement("span",{style:{display:"inline-block",width:"100%",lineHeight:"30px"}},React.createElement("img",{style:{width:"30px"},src:a[s].icon}),React.createElement("span",{style:{fontSize:"18px",marginLeft:"50px"},className:1==a[s].versionFlag?"green":"red"},a[s].version))));for(var l=[],c=0,p=6;p>c;c++)"undefined"==typeof a[s].imageList[c]?l.push(React.createElement("img",{style:{width:"50px",marginLeft:"5px"},src:"../resource/images/icon-default.jpg"})):l.push(React.createElement("img",{style:{width:"50px",marginLeft:"5px"},src:a[s].imageList[c]}));o.push(l);var h="版本异常";1==a[s].versionFlag&&(h="版本正常");var d="描述过期";if(1==a[s].descFlag)var d="描述正常";var u="图标过期";1==a[s].iconFlag&&(u="图标正常");var g="截图过期";1==a[s].screenshotFlag&&(g="截图正常");var m=c360.utils.unix2human(a[s].time).date,f=[{flag:a[s].versionFlag,value:h},{flag:a[s].iconFlag,value:u},{flag:a[s].descFlag,value:d},{flag:a[s].screenshotFlag,value:g},{flag:2,value:"数据抓取时间:"+m}];o.push(React.createElement("div",null,React.createElement("span",{className:"flag-top"},React.createElement("span",{className:"flag-style version"},React.createElement("span",{className:1==a[s].versionFlag?"glyphicon glyphicon-info-sign green":"glyphicon glyphicon-info-sign red"}),h),React.createElement("span",{className:"flag-style desc"},React.createElement("span",{className:1==a[s].descFlag?"glyphicon glyphicon-info-sign green":"glyphicon glyphicon-info-sign red"}),d),React.createElement("span",{className:"flag-style time"},React.createElement("span",{className:"glyphicon glyphicon-info-sign orange"}),"数据抓取时间:",m)),React.createElement("span",{className:"flag-bottom"},React.createElement("span",{className:"flag-style icon"},React.createElement("span",{className:"glyphicon glyphicon-info-sign green"}),u),React.createElement("span",{className:"flag-style screenshot"},React.createElement("span",{className:"glyphicon glyphicon-info-sign green"}),g),React.createElement("span",{className:"flag-style channel"},React.createElement("a",{onClick:this.handleEditAlertEvent.bind(null,a[s]._id,a[s].title,f),style:{cursor:"pointer"}},"编辑告警状态"),React.createElement("a",{onClick:this.handleShowMatchEvent.bind(null,a[s]._id,"查看匹配规则"),style:{cursor:"pointer",marginLeft:"10px"}},"查看匹配规则"),React.createElement("a",{onClick:this.handleDeleteEvent.bind(null,a[s]._id),style:{cursor:"pointer",marginLeft:"10px"}},"删除"))))),n.push(o)}var v=function(){for(var e=[],t=0,a=n.length;a>t;t++){var i=[];for(var s in n[t])i.push(React.createElement("td",null,React.createElement("div",{style:{display:"inline-block",margin:"auto"}},n[t][s])));e.push(React.createElement("tr",{className:t%2==0?"even":""},i))}return e}.bind(this)();return React.createElement("div",{className:"boxmax",style:{margin:"0px 20px"}},React.createElement("div",{className:"title"},React.createElement("strong",{className:"l"},"明细数据"),React.createElement("span",{className:"r"})),React.createElement("div",{className:"dynamic"},React.createElement("div",{className:"dynamicTable"},React.createElement("table",{className:"table_style1 data-table"},React.createElement("thead",null,React.createElement("tr",null,t)),React.createElement("tbody",null,v)))))},handleEditAlertEvent:function(e,t,a,i){n.showEditAlert(t,!0,a)},handleShowMatchEvent:function(e,t,a){n.showAlert(t,"",!0)},handleDeleteEvent:function(e){n.showConfirm("温馨提示","是否删除",!0,this.handleDelEvent.bind(this,e))},handleDelEvent:function(e){var t={_id:e};c360.server.jsonpInterface("delChannel",t,function(e){200==e.status?n.showAlert("Success","删除渠道成功!",!0,function(){n.getTemplateList(s.pageObject.currentPageIndex,this.initTemplateList)}.bind(this)):n.showAlert("Error",e.message,!0)}.bind(this),"GET")}});t.exports=r},{"../components/page/PageAction.js":11,"./MainAction.js":14}],14:[function(e,t,a){var n=Reflux.createActions(["getTemplateList","showAlert","setImageList","delImageList","showUpdateChannelAlert","setIcon","showChannelAlert","showConfirm","showEditAlert"]),i=Reflux.createStore({listenables:[n],getInitialState:function(){return this.pageObject={list:[],showEditAlertTitle:"",showEditAlertFlag:!1,showEditAlertModel:[],showChannelAlertTitle:"",showChannelAlertFlag:!1,channelName:"",channelUrl:"",showUpdateChannelAlertTitle:"",showUpdateChannelAlertFlag:!1,channelId:"",updateChannelFlag:!1,version:"",icon:"",desc:"",imageList:[],showAlertTitle:"Error",showAlertMessage:"",showAlertFlag:!1,showComfirmTitle:"",showComfirmMessage:"",showComfirmFlag:!1}},onSetImageList:function(e){this.pageObject.imageList.push(e),this.trigger(this.pageObject)},onSetIcon:function(e){this.pageObject.icon=e,this.trigger(this.pageObject)},onDelImageList:function(e){var t=$.inArray(e,this.pageObject.imageList);this.pageObject.imageList.splice(t,1),this.trigger(this.pageObject)},onShowUpdateChannelAlert:function(e,t,a,n,i,s,r,o,l,c){this.pageObject.showUpdateChannelAlertTitle=e,this.pageObject.showUpdateChannelAlertFlag=t,this.pageObject.updateChannelFlag=i,this.pageObject.version=s||"",this.pageObject.channelId=c||"",this.pageObject.icon=r||"",this.pageObject.desc=o||"",this.pageObject.imageList=l||[],this.pageObject.comfirmCallback=a,this.pageObject.cancelCallback=n,this.trigger(this.pageObject)},onShowChannelAlert:function(e,t,a,n){this.pageObject.showChannelAlertTitle=e,this.pageObject.showChannelAlertFlag=t,this.pageObject.channelName="",this.pageObject.channelUrl="",this.pageObject.comfirmCallback=a,this.pageObject.cancelCallback=n,this.trigger(this.pageObject)},onShowEditAlert:function(e,t,a,n){this.pageObject.showEditAlertTitle=e,this.pageObject.showEditAlertFlag=t,this.pageObject.showEditAlertModel=a,this.pageObject.callback=n,this.trigger(this.pageObject)},onShowAlert:function(e,t,a,n){this.pageObject.showAlertTitle=e,this.pageObject.showAlertFlag=a,this.pageObject.showAlertMessage=t,this.pageObject.callback=n,this.trigger(this.pageObject)},onShowConfirm:function(e,t,a,n,i){this.pageObject.showComfirmTitle=e,this.pageObject.showComfirmFlag=a,this.pageObject.showComfirmMessage=t,this.pageObject.comfirmCallback=n,this.pageObject.cancelCallback=i,this.trigger(this.pageObject)},onGetTemplateList:function(e,t){var a={skip:5*e,limit:5};c360.server.jsonpInterface("getChannelList",a,function(e){200==e.status?(this.pageObject.list=e.data,this.trigger(this.pageObject),$.isFunction(t)&&t(e.total)):this.onShowAlert("Error",e.statusText,!0)}.bind(this),"GET")}});t.exports={MainAction:n,MainStore:i}},{}],15:[function(e,t,a){var n=e("./MainAction.js"),i=n.MainStore,n=n.MainAction,s=e("./TopView.js"),r=e("./ListView.js"),o=e("../components/dialog/AlertDialogView.js"),l=e("../components/dialog/ChannelDialogView.js"),c=e("../components/dialog/ConfirmDialogView.js"),p=e("../components/dialog/EditAlertDialogView.js"),h=e("../components/dialog/UpdateChannelDialogView.js"),d=e("../components/load/LoadView.js"),u=e("../components/page/PageView.js"),g=React.createClass({displayName:"NavView",mixins:[Reflux.connect(i,"pageObject")],componentDidMount:function(){},render:function(){return React.createElement("div",{className:"index"},React.createElement(d,null),React.createElement(o,React.__spread({},this.state)),React.createElement(l,React.__spread({},this.state)),React.createElement(h,React.__spread({},this.state)),React.createElement(c,React.__spread({},this.state)),React.createElement(p,React.__spread({},this.state)),React.createElement(s,React.__spread({},this.state)),React.createElement(r,React.__spread({},this.state)),React.createElement(u,null))},handleChannelEvent:function(){}});t.exports=g},{"../components/dialog/AlertDialogView.js":4,"../components/dialog/ChannelDialogView.js":5,"../components/dialog/ConfirmDialogView.js":6,"../components/dialog/EditAlertDialogView.js":7,"../components/dialog/UpdateChannelDialogView.js":8,"../components/load/LoadView.js":9,"../components/page/PageView.js":12,"./ListView.js":13,"./MainAction.js":14,"./TopView.js":16}],16:[function(e,t,a){var n=e("./MainAction.js"),n=n.MainAction,i=React.createClass({displayName:"TopView",getInitialState:function(){return{}},render:function(){return React.createElement("div",{className:"header"},React.createElement("a",{className:"bottun4 relative",onClick:this.handleChannelEvent,style:{margin:"11px 0px 0px 22px"}},React.createElement("div",null,React.createElement("span",null,"点击添加渠道"))),React.createElement("a",{className:"bottun4 relative",onClick:this.handleUpdateEvent,style:{margin:"11px 0px 0px 22px"}},React.createElement("div",null,React.createElement("span",null,"点击触发数据更新"))),React.createElement("a",{className:"bottun4 relative",onClick:this.handleUpdateChannelEvent,style:{margin:"11px 0px 0px 22px"}},React.createElement("div",null,React.createElement("span",null,"编辑基础信息"))))},handleChannelEvent:function(){n.showChannelAlert("温馨提示",!0,function(e){this.doAddChannel()}.bind(this))},doAddChannel:function(){var e=this.props.pageObject,t=e.channelName;if(""==t)return void n.showAlert("Error","渠道名称不能为空！",!0);var a=e.channelUrl;if(""==a)return void n.showAlert("Error","渠道url不能为空！",!0);var i={channelName:e.channelName,channelUrl:e.channelUrl};c360.server.jsonpInterface("addChannel",i,function(e){200==e.status?(n.showChannelAlert("温馨提示",!1),n.showAlert("Success","添加渠道成功!",!0)):n.showAlert("Error",e.message,!0)}.bind(this),"GET")},handleUpdateEvent:function(){c360.server.jsonpInterface("updateStatus",{},function(e){200==e.status?n.showAlert("Success","数据更新成功!",!0):n.showAlert("Error",e.message,!0)}.bind(this),"GET")},handleGetBaseChannel:function(e){c360.server.jsonpInterface("getChannelBaseData",{},function(t){"function"==typeof e&&e(t)}.bind(this),"GET")},handleUpdateChannelEvent:function(){this.handleGetBaseChannel(function(e){if(200==e.status){var t=e.data;0==t.length?n.showUpdateChannelAlert("温馨提示",!0,function(e){this.doUpdateChannel()}.bind(this),null,!0):n.showUpdateChannelAlert("温馨提示",!0,function(e){this.doUpdateChannel()}.bind(this),null,!1,t[0].version,t[0].icon,t[0].desc,t[0].imageList,t[0]._id)}else n.showAlert("Error",e.message,!0)}.bind(this))},doUpdateChannel:function(){var e=this.props.pageObject,t=e.version;if(""==t)return void n.showAlert("Error","版本号不能为空！",!0);var a=e.desc;if(""==a)return void n.showAlert("Error","描述不能为空！",!0);var i=e.icon;if(""==i)return void n.showAlert("Error","请上传图标！",!0);var s=e.imageList;if(0==s.length)return void n.showAlert("Error","请上传截图！",!0);var r={_id:this.props.pageObject.channelId,version:this.props.pageObject.version,icon:i,imageList:s};c360.server.jsonpInterface("updateBaseChannel",r,function(e){200==e.status?(n.showUpdateChannelAlert("温馨提示",!1),n.showAlert("Success","更新成功!",!0)):n.showAlert("Error",e.message,!0)}.bind(this),"GET")}});t.exports=i},{"./MainAction.js":14}],17:[function(e,t,a){e("./utils.js"),e("../common/Server.js");var n=e("./MainView.js");ReactDOM.render(React.createElement(n,null),document.getElementById("pageMain"))},{"../common/Server.js":2,"./MainView.js":15,"./utils.js":18}],18:[function(e,t,a){$.ns=function(){for(var e=0;e<arguments.length;e++){ns=arguments[e];for(var t=ns.split("."),a=window,n=0;n<t.length;n++)a=a[t[n]]=a[t[n]]||{}}},$.ns("c360.utils"),c360.utils={getQueryString:function(){var e=window.location.href,t=new Object;if(-1!=e.indexOf("?")){var a=e.substr(e.indexOf("?")+1);strs=a.split("&");for(var n=0;n<strs.length;n++)t[strs[n].split("=")[0]]=strs[n].split("=")[1]}return t},unix2human:function(e){var t=new Date(e),a=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",n=t.getMonth()+1+"月"+t.getDate()+"日",i=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],s=i[t.getDay()],r=":"+(t.getSeconds()<10?"0":"")+t.getSeconds();":00"==r&&(r="");var o=(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+r;return{week:s,singleDate:n,date:a,time:o}}}},{}]},{},[17]);